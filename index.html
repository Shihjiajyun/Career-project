<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Card Selection</title>
  <link rel="stylesheet" href="card.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->

  <style>
    body {
      background-color: rgb(209, 209, 209);
    }

    .flip-card-container {
      transition: filter 0.3s;
    }

    #nextButton {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 10px;
      background-color: #3498db;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      display: none;
      font-size: 20px;
    }

    footer {
      height: 50px;
      /* 根据需要设置空白的高度 */
    }

    .card-title p {
      font-size: medium;
    }

    .card-title {
      position: relative;
    }

    .checkmark {
      width: 32px;
      height: 32px;
      background-color: red;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      top: 10px;
      left: 10px;
    }

    .checkmark::before {
      content: '\2713';
      /* Unicode character for checkmark */
      color: white;
      font-size: 20px;
      /* Adjust the font size as needed */
    }
  </style>
</head>

<body>
  <div class="cards">
    <h1>請在這裡選擇三個你覺得你所具備的特質</h1>
    <div class="card" data-letter="S">
      <div class="card__image-holder">
        <img class="card__image" src="helper.png" height="200px" />
      </div>
      <div class="card-title">
        <a href="#" class="toggle-info btn">
          <span class="left"></span>
          <span class="right"></span>
        </a>
        <!-- <div class="checkmark"></div> -->
        <h2>
          助人者Social
          <p>#社工心理&ensp;#教育&ensp;#醫護&ensp;#宗教</p>
        </h2>
      </div>
      <div class="card-flap flap1">
        <p style="width: 90%;margin-left: auto;margin-right: auto;">助人者個性友善且極具包容力，喜歡和人
          互動與幫助他人。關懷社會、生態或周圍
          的人群，經常教導、協助、照顧別人、解決
          他人的困難懂得傾聽與溝通,擅長解決
          人際衝突。在生涯選擇上適合與人互、
          協助他人和教導培訓等工作。</p>
        <p style="margin-bottom: 0px;">【優勢】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">協調人際活動<br>發現與解決他人問題<br>優秀的人際與情緒管理能力
        </p>
        <p style="margin-bottom: 0px;margin-top: 5px;">【典型對應職業】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">教育、社工心理、醫護或宗教等領域</p>
        <div class="card-flap flap2">
          <div class="card-actions">
            <a href="#" class="btn" id="btn" onclick="toggleSelection(this, 'S')">選擇</a>
            <a href="#" data-letter="S" id="cancel-btn" class="btn" onclick="cancelSelection(this, 'S')">取消</a>
          </div>
        </div>
      </div>
    </div>

    <div class="card" data-letter="E">
      <div class="card__image-holder">
        <img class="card__image" src="influence.png" height="200px" />
      </div>
      <div class="card-title">
        <a href="#" class="toggle-info btn">
          <span class="left"></span>
          <span class="right"></span>
        </a>
        <!-- <div class="checkmark"></div> -->
        <h2>
          影響者Enterprising
          <p>#企管領導&ensp;#行銷企劃&ensp;#法律&ensp;#政治</p>
        </h2>
      </div>
      <div class="card-flap flap1">
        <p style="width: 90%;margin-left: auto;margin-right: auto;">影響者自信果敢且充滿精力，勇於競爭與
          冒險，喜歡商業活動與策。擅長運用自
          己的資源和能力影響或說服別人，讓別人
          贊同自己提出的想法或執行方式。適合當
          企業家，鼓舞他人合作並發起計劃。在生
          涯選擇上，會追求聲望地位較高的工作。</p>
        <p style="margin-bottom: 0px;">【優勢】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">能找出商業或獲利機會
          <br>適合管理與監督工作
          <br>
          具有銷售與說服技巧的潛力
        </p>
        <p style="margin-bottom: 0px;margin-top: 5px;">【典型對應職業】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">企管領導、行銷企劃、法律政治等領域</p>
        <div class="card-flap flap2">
          <div class="card-actions">
            <a href="#" class="btn" id="btn" onclick="toggleSelection(this, 'E')">選擇</a>
            <a href="#" data-letter="E" id="cancel-btn" class="btn" onclick="cancelSelection(this, 'E')">取消</a>
          </div>
        </div>
      </div>
    </div>

    <div class="card" data-letter="R">
      <div class="card__image-holder">
        <img class="card__image" src="practitioner.png" height="200px" />
      </div>
      <div class="card-title">
        <a href="#" class="toggle-info btn">
          <span class="left"></span>
          <span class="right"></span>
        </a>
        <!-- <div class="checkmark"></div> -->
        <h2>
          實踐者Realistic
          <p>#機械電子&ensp;#農林漁牧&ensp;#建築工藝&ensp;#運動</p>
        </h2>
      </div>
      <div class="card-flap flap1">
        <p style="width: 90%;margin-left: auto;margin-right: auto;">實踐者注重實際行動，常獨自完成任務
          喜歡機械或可操作的工具。喜歡戶外活動
          、肢體運動和各種冒險探索。面對問題時，
          比起討論或空想，更喜歡直接當試。在生
          涯選擇上，喜歡能產生具體作品或成果的
          工作。</p>
        <p style="margin-bottom: 0px;">【優勢】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">機械與設備操作,對工具運用、設備操作、廚藝手工與飼動物有天賦
        </p>
        <p style="margin-bottom: 0px;margin-top: 5px;">【典型對應職業】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">機械電子、農林漁牧、運動或建築工藝領域</p>
        <div class="card-flap flap2">
          <div class="card-actions">
            <a href="#" class="btn" id="btn" onclick="toggleSelection(this, 'R')">選擇</a>
            <a href="#" data-letter="R" id="cancel-btn" class="btn" onclick="cancelSelection(this, 'R')">取消</a>
          </div>
        </div>
      </div>
    </div>

    <div class="card" data-letter="I">
      <div class="card__image-holder">
        <img class="card__image" src="thinker.png" height="200px" />
      </div>
      <div class="card-title">
        <a href="#" class="toggle-info btn">
          <span class="left"></span>
          <span class="right"></span>
        </a>
        <!-- <div class="checkmark"></div> -->
        <h2>
          思考者Investigative
          <p>#統計分析#人文科學#理工研究#生醫研發</p>
        </h2>
      </div>
      <div class="card-flap flap1">
        <p style="width: 90%;margin-left: auto;margin-right: auto;">思考者好奇心強，喜歡分析、思考與解決
          複雜問題。擅長觀察、構想、追尋真理並提
          出各種假設，常接觸人文科學或科技領域
          的資訊。在資料分析與理論建構方面，是
          不可多得的人才。在生涯選擇上，喜歡需
          要思考與研究的專業工作。</p>
        <p style="margin-bottom: 0px;">【優勢】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">理解、解決科學或數學問題
          <br>
          研究分析與解釋資料、構想與理論
          <br>抽象思考
        </p>
        <p style="margin-bottom: 0px;margin-top: 5px;">【典型對應職業】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">理工生醫或人文科學領域</p>
        <div class="card-flap flap2">
          <div class="card-actions">
            <a href="#" class="btn" id="btn" onclick="toggleSelection(this, 'I')">選擇</a>
            <a href="#" data-letter="I" id="cancel-btn" class="btn" onclick="cancelSelection(this, 'I')">取消</a>
          </div>
        </div>
      </div>
    </div>

    <div class="card" data-letter="A">
      <div class="card__image-holder">
        <img class="card__image" src="website-creator.png" height="200px" />
      </div>
      <div class="card-title">
        <a href="#" class="toggle-info btn">
          <span class="left"></span>
          <span class="right"></span>
        </a>
        <!-- <div class="checkmark"></div> -->
        <h2>
          創造者Artistic
          <p>#造型設計&ensp;#藝術設計&ensp;#藝術家&ensp;#導演</p>
        </h2>
      </div>
      <div class="card-flap flap1">
        <p style="width: 90%;margin-left: auto;margin-right: auto;">創造者充滿創意與想像力，總是有很多新
          穎的想法。喜歡設計、戲劇、文學、舞蹈、音
          樂等活動。具有強大的直覺與靈感，對美
          的追求更勝於科學。在生涯選擇上，喜歡
          待在充滿變化與挑戰的環境，讓自己的獨
          特性能充分發揮。</p>
        <p style="margin-bottom: 0px;">【優勢】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">運用想像力與創造力產生靈感
          <br>
          做事創新、彈性而靈活
          <br>
          善於設計與創造，具有文藝天賦
        </p>
        <p style="margin-bottom: 0px;margin-top: 5px;">【典型對應職業】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">藝術、設計等領域</p>
        <div class="card-flap flap2">
          <div class="card-actions">
            <a href="#" class="btn" id="btn" onclick="toggleSelection(this, 'A')">選擇</a>
            <a href="#" data-letter="A" class="btn" id="cancel-btn" onclick="cancelSelection(this,'A')">取消</a>
          </div>
        </div>
      </div>
    </div>

    <div class="card" data-letter="C">
      <div class="card__image-holder">
        <img class="card__image" src="organizer.png" height="200px" />
      </div>
      <div class="card-title">
        <a href="#" class="toggle-info btn">
          <span class="left"></span>
          <span class="right"></span>
        </a>
        <!-- <div class="checkmark"></div> -->
        <h2>
          組織者Conventional
          <p>#財務金融&ensp;#特助秘書&ensp;#會計&ensp;#行政</p>
        </h2>
      </div>
      <div class="card-flap flap1" id="problem">
        <p style="width: 90%;margin-left: auto;margin-right: auto;">組織者喜歡有系統、組織和效率的SOP
          工作方式無法接受混高、沒有秩序的環
          境,在乎事情的精確細節並一絲不苟。在
          生涯選擇上偏好規則清楚且明的環境
          ,善於透過行政處理讓事情順利運轉。</p>
        <p style="margin-bottom: 0px;">【優勢】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">善於數字運算
          資訊處理、組織、規劃與統整
          文書、行政方面具備精確的處理技巧</p>
        <p style="margin-bottom: 0px;margin-top: 5px;">【典型對應職業】</p>
        <p style="margin-top: 0px;width: 90%;margin-left: auto;margin-right: auto;">財務金融、特助秘書、會計、行政等領域</p>
        <div class="card-flap flap2">
          <div class="card-actions">
            <a href="#" class="btn" id="btn" onclick="toggleSelection(this, 'C')">選擇</a>
            <a href="#" data-letter="C" id="cancel-btn" class="btn" onclick="cancelSelection(this, 'C')">取消</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <a href="first-conclusion.html"><button id="nextButton" onclick="showSelectedCards()"
      style="z-index: 100;">查看分析結果</button></a>

  <script>
    window.onload = function () {
      localStorage.removeItem('selectedCareers');
      const cancelButtons = document.querySelectorAll('.card .btn[data-letter]');
      cancelButtons.forEach(button => {
        button.classList.add('btn2');
      });
    };

    const selectedCareers = [];
    console.log(selectedCareers);

    function toggleSelection(element, letter) {
      const container = element.closest('.card');
      const btn = container.querySelector('#btn');
      const cancelBtn = container.querySelector('#cancel-btn');
      container.classList.add('selected');
      updateNextButtonVisibility()
      // 移除樣式
      btn.classList.add('btn2');
      cancelBtn.classList.remove('btn2');

      // 新增字母到本地端紀錄中
      const selectedCareersString = localStorage.getItem('selectedCareers');
      let selectedCareersArray = selectedCareersString ? JSON.parse(selectedCareersString) : [];

      // 檢查字母是否已經存在，不存在則新增
      if (!selectedCareersArray.includes(letter)) {
        selectedCareersArray.push(letter);
        localStorage.setItem('selectedCareers', JSON.stringify(selectedCareersArray));
        console.log(selectedCareersArray); // 可選擇是否印出
      }

      const checkmark = document.createElement('div');
      checkmark.className = 'checkmark';
      container.querySelector('.card-title').appendChild(checkmark);
    }


    function cancelSelection(element, letter) {
      const container = element.closest('.card');
      container.querySelector('#btn').classList.remove('btn2');
      container.querySelector('#cancel-btn').classList.add('btn2');
      container.classList.remove('selected');
      updateNextButtonVisibility()
      const selectedCareersString = localStorage.getItem('selectedCareers');
      let selectedCareersArray = selectedCareersString ? JSON.parse(selectedCareersString) : [];
      const index = selectedCareersArray.indexOf(letter);
      const checkmark = container.querySelector('.checkmark');
      checkmark.remove();
      selectedCareersArray.splice(index, 1);
      localStorage.setItem('selectedCareers', JSON.stringify(selectedCareersArray));
      console.log(selectedCareersArray);

    }


    function updateNextButtonVisibility() {
      const selectedCount = document.querySelectorAll('.selected').length;
      document.getElementById('nextButton').style.display = selectedCount === 3 ? 'block' : 'none';
    }


    $(document).ready(function () {
      var zindex = 10;

      $("div.card").click(function (e) {
        e.preventDefault();

        var isShowing = false;

        if ($(this).hasClass("show")) {
          isShowing = true
        }

        if ($("div.cards").hasClass("showing")) {
          // a card is already in view
          $("div.card.show")
            .removeClass("show");

          if (isShowing) {
            // this card was showing - reset the grid
            $("div.cards")
              .removeClass("showing");
          } else {
            // this card isn't showing - get in with it
            $(this)
              .css({ zIndex: zindex })
              .addClass("show");

          }

          zindex++;

        } else {
          // no cards in view
          $("div.cards")
            .addClass("showing");
          $(this)
            .css({ zIndex: zindex })
            .addClass("show");

          zindex++;
        }

      });
    });
  </script>
  <footer></footer>
</body>

</html>